(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6732)}])},6732:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(4051),s=n.n(r),a=n(5893),c=n(7294),i=n(794),o=n(9473),u=n(4146),l=n(2593),d=n(1461),m=n(2920),x="0xfd1D188160dF348b27a1A2dC9d2a383C033EEF8F",f=n(271),h=n(8054),p=n(5915);function b(e,t,n,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,s)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){b(a,r,s,c,i,"next",e)}function i(e){b(a,r,s,c,i,"throw",e)}c(void 0)}))}}var w,v,k=function(e){var t=e.mint,n=e.paused,r=e.isMinting,i=(0,o.I0)(),u=(0,o.v9)((function(e){return e.user.address})),l=(0,o.v9)((function(e){return e.user.correctChain})),d=(0,o.v9)((function(e){return e.user})),m=(0,o.v9)((function(e){return e.user.needsOnboard})),x=(function(){var e=g(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i((0,p.$4)());case 1:case"end":return e.stop()}}),e)})))}(),function(){var e=g(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m?(new h.Z).startOnboarding():i((0,p.Yn)());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());(0,c.useEffect)((function(){var e=localStorage.getItem("DeFiLink_session_storage_extension");if(e)try{JSON.parse(e).connected||i((0,p.$4)())}catch(t){i((0,p.$4)())}(localStorage.getItem("WEB3_CONNECT_CACHED_PROVIDER")||window.ethereum||localStorage.getItem("DeFiLink_session_storage_extension"))&&(d.provider||(window.navigator.userAgent.includes("Crypto.com DeFiWallet")?i((0,p.Yn)(!1,"defi")):i((0,p.Yn)()))),d.provider||window.navigator.userAgent.includes("Crypto.com DeFiWallet")&&i((0,p.Yn)(!1,"defi"))}),[]);var b=function(){i((0,p.jR)(!1))},w=function(){i((0,p.jR)(!1)),i((0,p.Ns)())};return(0,a.jsxs)("div",{children:[!u&&(0,a.jsx)("button",{className:"font-coiny mt-12 w-full bg-gradient-to-br from-brand-purple to-brand-pink shadow-lg px-6 py-3 rounded-md text-2xl text-white hover:shadow-pink-400/50 mx-4 tracking-wide uppercase",onClick:function(){return x()},children:"Connect Wallet"}),u&&!l&&!d.showWrongChainModal&&(0,a.jsx)("button",{className:"absolute right-4 bg-indigo-600 transition duration-200 ease-in-out font-chalk border-2 border-[rgba(0,0,0,1)] shadow-[0px_3px_0px_0px_rgba(0,0,0,1)] active:shadow-none px-4 py-2 rounded-md text-sm text-white tracking-wide uppercase",onClick:function(){return w()},children:"Switch Network"}),u&&l&&(0,a.jsx)("button",{className:" ".concat(n||r?"bg-gray-900 cursor-not-allowed":"bg-gradient-to-br from-brand-purple to-brand-pink shadow-lg hover:shadow-pink-400/50"," font-coiny mt-12 w-full px-6 py-3 rounded-md text-2xl text-white  mx-4 tracking-wide uppercase"),disabled:n||r,onClick:function(){return t()},children:r?"Minting...":"Mint"}),(0,a.jsxs)(f.Z,{show:d.showWrongChainModal,onHide:b,children:[(0,a.jsx)(f.Z.Header,{closeButton:!0,children:(0,a.jsx)(f.Z.Title,{children:"Wrong network"})}),(0,a.jsxs)(f.Z.Body,{children:["To continue, you need to switch the network to"," ",(0,a.jsx)("span",{style:{fontWeight:"bold"},children:"Cronos Chain"}),"."," "]}),(0,a.jsxs)(f.Z.Footer,{children:[(0,a.jsx)("button",{className:"p-4 pt-2 pb-2 btn_menu inline white lead",onClick:b,children:"Close"}),(0,a.jsx)("button",{className:"p-4 pt-2 pb-2 btn_menu inline white lead btn-outline",onClick:w,children:"Switch"})]})]})]})},j=(0,c.memo)(k),y=n(7821),N=n(74);n(993);function C(e,t,n,r,s,a,c){try{var i=e[a](c),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,s)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){C(a,r,s,c,i,"next",e)}function i(e){C(a,r,s,c,i,"throw",e)}c(void 0)}))}}var _=function(e,t){console.log(e,JSON.stringify(t)),m.Am.error("".concat(e," ").concat(JSON.stringify(t)))};function E(){var e=(0,o.I0)(),t=(0,c.useState)(0),n=t[0],r=t[1],f=(0,c.useState)(0),h=f[0],b=f[1],g=(0,c.useState)(0),k=g[0],C=g[1],E=(0,c.useState)(!1),M=E[0],O=E[1],Z=(0,c.useState)(0),W=Z[0],I=Z[1],P=(0,c.useState)(0),F=P[0],T=P[1],A=(0,c.useState)(0),B=A[0],D=A[1],L=(0,c.useState)(0),H=L[0],R=L[1],$=(0,c.useState)(!1),J=$[0],U=$[1],Y=(0,c.useState)(!1),z=Y[0],G=Y[1],q=(0,c.useState)("0"),X=q[0],V=q[1],K=(0,c.useState)("0"),Q=K[0],ee=K[1],te=(0,c.useState)(!1),ne=te[0],re=te[1],se=(0,c.useState)(null),ae=se[0],ce=se[1],ie=(0,c.useState)(1),oe=ie[0],ue=ie[1],le=(0,c.useState)(!1),de=le[0],me=le[1],xe=(0,o.v9)((function(e){return e.user.address})),fe=(0,o.v9)((function(e){return e.user.correctChain})),he=(0,o.v9)((function(e){return e.user.isMetamask})),pe=(0,o.v9)((function(e){return e.user.babyContract}));(0,c.useEffect)((function(){S(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(xe&&he&&window&&window.ethereum)||fe){e.next=4;break}return e.next=4,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:y.i.chainId}]});case 4:e.next=18;break;case 6:if(e.prev=6,e.t0=e.catch(0),4902!==e.t0.code){e.next=18;break}return e.prev=9,e.next=12,window.ethereum.request({method:"wallet_addEthereumChain",params:[y.i]});case 12:e.next=17;break;case 14:return e.prev=14,e.t1=e.catch(9),e.abrupt("return",_("error adding chain:",e.t1));case 17:return e.abrupt("return",_("error switching chain:",e.t0));case 18:if(e.prev=18,!v){try{v=new d.r(y.i.rpcUrls[0]),w=new u.CH(y.z,N.Mt,v)}catch(n){_("Error making provider and contract:",n)}w.paused().then((function(e){return O(e)})).catch((function(e){return _("Error getting paused:",e)})),w.totalSupply().then((function(e){return b(e.toNumber())})).catch((function(e){return _("Error getting total supply:",e)})),w.maxSupply().then((function(e){return r(e.toNumber())})).catch((function(e){return _("Error getting max supply:",e)}))}if(t=0,!xe){e.next=28;break}return v.getBalance(xe).then((function(e){D(e.toString())})).catch((function(e){return _("Error getting balance:",e)})),w.mintCost(xe).then((function(e){V(e.toString());var t=new i.Z(e.toString()).multipliedBy(oe).toString();console.log("totalprice:",t),ee(t)})).catch((function(e){_("Error getting mint cost:",e)})),e.next=26,w.balanceOf(xe);case 26:t=e.sent.toNumber(),R(t);case 28:w.saleState().then(function(){var e=S(s().mark((function e(n){var r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(n.toNumber()),r=0,1!==n.toNumber()||!xe){e.next=15;break}return e.next=5,w.isCrosmocraft(xe);case 5:return a=e.sent,e.next=8,w.isCrosmonaut(xe);case 8:c=e.sent,console.log({isCraft:a,isNaut:c}),U(a),G(c),(a||c)&&(r=4),e.next=16;break;case 15:2===n.toNumber()&&(r=10);case 16:T(r),C(Math.max(r-t,0));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return _("Error getting isowner:",e)})),e.next=34;break;case 31:e.prev=31,e.t2=e.catch(18),_("Error getting contract data:",e.t2);case 34:case"end":return e.stop()}}),e,null,[[0,6],[9,14],[18,31]])})))()}),[xe]),(0,c.useEffect)((function(){var e=new i.Z(X).multipliedBy(oe).toString();console.log("totalprice:",e),ee(e)}),[oe]);var be=function(){var t=S(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((0,p.$4)());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ge=function(){var e=S(s().mark((function e(){var t,r,a,c,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe){e.next=2;break}return e.abrupt("return",ce({success:!1,status:"To be able to mint, you need to connect your wallet"}));case 2:if(fe){e.next=4;break}return e.abrupt("return",ce({success:!1,status:"To be able to mint, you need to change your network to Cronos"}));case 4:if(!M){e.next=6;break}return e.abrupt("return",ce({success:!1,message:"Minting is paused"}));case 6:if(0!==W){e.next=8;break}return e.abrupt("return",ce({success:!1,message:"Sale is not started"}));case 8:if(1!==W||J||z){e.next=10;break}return e.abrupt("return",ce({success:!1,message:"No Crosmocraft or Crosmonaut"}));case 10:if(!(oe<=0)){e.next=12;break}return e.abrupt("return",ce({success:!1,message:"Mint amount should not be 0"}));case 12:if(!(H+oe>F)){e.next=14;break}return e.abrupt("return",ce({success:!1,message:"Exceeds max mintable nfts per wallet"}));case 14:if(!(h+oe>n)){e.next=16;break}return e.abrupt("return",ce({success:!1,message:"Exceeds max mintable nfts"}));case 16:if(!new i.Z(B).lt(new i.Z(Q))){e.next=18;break}return e.abrupt("return",ce({success:!1,message:"Insufficient fund"}));case 18:return me(!0),e.next=21,pe.estimateGas.mint(oe,{value:Q});case 21:if(t=e.sent,!ne){e.next=31;break}return a=Math.ceil(1.5*t.toNumber()),c=l.O$.from(a),e.next=28,pe.mint(oe,{value:Q,gasLimit:c});case 28:r=e.sent,e.next=34;break;case 31:return e.next=33,pe.mint(oe,{value:Q});case 33:r=e.sent;case 34:return e.prev=34,e.next=37,r.wait();case 37:e.next=42;break;case 39:return e.prev=39,e.t0=e.catch(34),e.abrupt("return",me(!1));case 42:return ce({success:!0,message:"Minting Success"}),w.totalSupply().then((function(e){return b(e.toNumber())})).catch((function(e){return _("Error getting total supply:",e)})),e.next=47,w.balanceOf(xe);case 47:o=e.sent.toNumber(),R(o),C(Math.max(F-o,0)),me(!1);case 51:case"end":return e.stop()}}),e,null,[[34,39]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:"min-h-screen h-full w-full overflow-hidden flex flex-col items-center justify-center bg-brand-background ",children:[(0,a.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[(0,a.jsx)("img",{src:"/images/blur.jpeg",className:"animate-pulse-slow absolute inset-auto block w-full min-h-screen object-cover"}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full w-full px-2 md:px-10",children:(0,a.jsxs)("div",{className:"relative z-1 md:max-w-3xl w-full bg-gray-900/90 filter backdrop-blur-sm py-4 rounded-md px-2 md:px-10 flex flex-col items-center",children:[xe&&(0,a.jsx)("button",{className:"absolute right-4 bg-indigo-600 transition duration-200 ease-in-out font-chalk border-2 border-[rgba(0,0,0,1)] shadow-[0px_3px_0px_0px_rgba(0,0,0,1)] active:shadow-none px-4 py-2 rounded-md text-sm text-white tracking-wide uppercase",onClick:function(){return be()},children:"Disconnect"}),(0,a.jsx)("h1",{className:"font-coiny uppercase font-bold text-3xl md:text-4xl bg-gradient-to-br from-brand-green to-brand-blue bg-clip-text text-transparent mt-3",children:M?"Paused":1===W?"Pre-Sale":2===W?"Public Sale":"Sale not started"}),(0,a.jsx)("h3",{className:"text-sm text-pink-200 tracking-widest",children:xe?xe.slice(0,8)+"..."+xe.slice(-4):""}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-14 w-full mt-10 md:mt-14",children:[(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("div",{className:"font-coiny z-10 absolute top-2 left-2 opacity-80 filter backdrop-blur-lg text-base px-4 py-2 bg-black border border-brand-purple rounded-md flex items-center justify-center text-white font-semibold",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-brand-pink",children:h})," /"," ",n]})}),(0,a.jsx)("img",{src:"/images/crosmo-babies.gif",className:"object-cover w-full sm:h-[280px] md:w-[250px] rounded-md"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center w-full px-4 mt-16 md:mt-0",children:[(0,a.jsxs)("div",{className:"font-coiny flex items-center justify-between w-full",children:[(0,a.jsx)("button",{className:"w-14 h-10 md:w-16 md:h-12 flex items-center justify-center text-brand-background hover:shadow-lg bg-gray-300 font-bold rounded-md",onClick:function(){oe>1&&ue(oe-1)},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-8 md:w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})})}),(0,a.jsx)("p",{className:"flex items-center justify-center flex-1 grow text-center font-bold text-brand-pink text-3xl md:text-4xl",children:oe}),(0,a.jsx)("button",{className:"w-14 h-10 md:w-16 md:h-12 flex items-center justify-center text-brand-background hover:shadow-lg bg-gray-300 font-bold rounded-md",onClick:function(){oe<k&&ue(oe+1)},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-8 md:w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(0,a.jsxs)("p",{className:"text-sm text-pink-200 tracking-widest mt-3",children:["Max Mint Amount: ",F]}),(0,a.jsx)("div",{className:"border-t border-b py-4 mt-16 w-full",children:(0,a.jsxs)("div",{className:"w-full text-xl font-coiny flex items-center justify-between text-brand-yellow",children:[(0,a.jsx)("p",{children:"Total"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("p",{children:[new i.Z(Q).div(new i.Z(10).pow(18)).toFixed(2)," ","CRO"]})," ",(0,a.jsx)("span",{className:"text-gray-400",children:"+ GAS"})]})]})}),(0,a.jsx)(j,{paused:M,isMinting:de,mint:ge}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("input",{className:"text-sm text-pink-200 tracking-widest mt-3 mr-1",type:"checkbox",id:"mdcHigherGas",value:"Use higher gas to reduce mint failure chance",text:"Use higher gas to reduce mint failure chance",checked:ne,onChange:function(e){return re(e.target.checked)}}),(0,a.jsx)("label",{className:"text-pink-200",children:"Use higher gas to reduce mint failure chance"})]})]})]}),ae&&(0,a.jsx)("div",{className:"border ".concat(ae.success?"border-green-500":"border-brand-pink-400 ",' rounded-md text-start h-full px-4 py-4 w-full mx-auto mt-8 md:mt-4"'),children:(0,a.jsx)("p",{className:"flex flex-col space-y-2 text-white text-sm md:text-base break-words ...",children:ae.message})}),(0,a.jsxs)("div",{className:"border-t border-gray-800 flex flex-col items-center mt-10 py-2 w-full",children:[(0,a.jsx)("h3",{className:"font-coiny text-2xl text-brand-pink uppercase mt-6",children:"Contract Address"}),(0,a.jsx)("a",{href:"https://cronoscan.com/address/".concat(x,"#readContract"),target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 mt-4",children:(0,a.jsx)("span",{className:"break-all ...",children:x})}),(0,a.jsxs)("div",{className:"text-gray-400 mt-4",children:["Total Minted: ",h," | Max Supply: ",n,!!xe&&" | Wallet Limit: ".concat(F)]}),(0,a.jsxs)("div",{className:"flex flex-row mt-4 gap-4",children:[(0,a.jsx)("a",{href:"https://discord.gg/yhyJjZ2uWk",children:(0,a.jsx)("img",{src:"/images/discord.png",width:40,height:40})}),(0,a.jsx)("a",{href:"https://twitter.com/crosmonaut",children:(0,a.jsx)("img",{src:"/images/twitter.png",width:40,height:40})})]})]})]})})]}),(0,a.jsx)(m.Ix,{})]})}}},function(e){e.O(0,[702,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);